<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Docs ‚Äî üúè HERMETICUM</title>
  <link rel="stylesheet" href="../assets/css/main.css" />
</head>
<body>
<header class="topbar">
  <div class="wrap">
    <div class="row">
      <div class="brand">üúè HERMETICUM</div>

      <nav class="nav">
        <a href="../">Gateway</a>
        <a href="../status/">Status</a>
        <a href="../activate/">Activate</a>
        <a href="../verify/">Verify</a>
        <a href="../infrastructure/">Infrastructure</a>
        <a href="../joker/">JOKER</a>
        <a class="active" href="./">Docs</a>
      </nav>

      <div class="spacer"></div>
      <div class="status active">Infrastructure Status: ACTIVE</div>
    </div>
  </div>
</header>

<main class="wrap">
  <section class="hero">
    <h1>Docs</h1>
    <p class="lead">
      Specifiche operative del gateway pubblico: IPR (Identity Primary Record), verifica ex-ante, evidenza (hash-only),
      e policy fail-closed.
    </p>
  </section>

  <section class="section">
    <div class="panel">
      <h2>Concetti base</h2>
      <div style="color:var(--muted);line-height:1.7">
        <p style="margin:0 0 10px">
          <strong>IPR</strong> √® un riferimento operativo. L‚Äôattivazione produce una <strong>receipt</strong> che contiene
          hash di evidenza (hash-only). La receipt √® verificabile e opponibile nel tempo.
        </p>
        <p style="margin:0">
          <strong>Verify (Ex-Ante)</strong> applica un gate tecnico: misura prerequisiti e restituisce
          <strong>AUTHORIZED</strong> o <strong>DENIED</strong> con un <strong>reason_code</strong>.
          Incertezza ‚Üí blocco (fail-closed).
        </p>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="panel">
      <h2>Procedura (EU)</h2>
      <ol style="color:var(--muted);line-height:1.75;margin:10px 0 0;padding-left:18px">
        <li>Vai su <a href="../activate/"><strong>Activate</strong></a> e genera IPR (Create).</li>
        <li>Salva la <strong>receipt JSON completa</strong> (inizia con <code>{</code> e finisce con <code>}</code>).</li>
        <li>Vai su <a href="../verify/"><strong>Verify</strong></a> e incolla la receipt.</li>
        <li>Output: <strong>AUTHORIZED</strong> oppure <strong>DENIED</strong> con reason_code.</li>
      </ol>
      <div class="cta">
        <a class="btn primary" href="../activate/">Attiva IPR</a>
        <a class="btn" href="../verify/">Verify</a>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="panel">
      <h2>Contratto input Verify</h2>
      <div style="color:var(--muted);line-height:1.7">
        <p style="margin:0 0 10px"><strong>Verify accetta un solo input</strong>, in uno dei formati:</p>
        <ul style="margin:0;padding-left:18px">
          <li><strong>Receipt JSON</strong> (oggetto JSON)</li>
          <li><strong>Wrapper</strong>: <code>{"receipt":{...},"client_std_full":{...}}</code></li>
          <li><strong>Array</strong>: <code>[{"type":"receipt","data":{...}}, {"type":"client_std","data":{...}}]</code></li>
          <li><strong>Hash SHA-256</strong> (64 caratteri hex) per controllo formato rapido</li>
        </ul>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="panel">
      <h2>Reason codes (DENIED)</h2>
      <div style="color:var(--muted);line-height:1.7">
        <ul style="margin:0;padding-left:18px">
          <li><strong>EMPTY_INPUT</strong> ‚Äî input vuoto</li>
          <li><strong>INPUT_NOT_JSON_OR_HASH</strong> ‚Äî non √® JSON e non √® hash SHA-256</li>
          <li><strong>RECEIPT_MISSING</strong> ‚Äî receipt assente o non oggetto</li>
          <li><strong>PAYLOAD_SHA256_INVALID</strong> ‚Äî payload_sha256 mancante o non valido</li>
          <li><strong>RECEIPT_SHA256_INVALID</strong> ‚Äî receipt_sha256 mancante o non valido</li>
        </ul>
      </div>
    </div>
  </section>

  <section class="section">
    <div class="panel">
      <h2>Policy (operativa)</h2>
      <div style="color:var(--muted);line-height:1.7">
        <ul style="margin:0;padding-left:18px">
          <li><strong>UE-first</strong>: impostazione UE come standard normativo di riferimento.</li>
          <li><strong>Audit-first</strong>: tutto √® tracciabile e verificabile.</li>
          <li><strong>Hash-only</strong>: esposizione pubblica basata su hash/evidenza, non su dati personali.</li>
          <li><strong>Fail-closed</strong>: incertezza o incoerenza ‚Üí blocco.</li>
          <li><strong>No data custody</strong>: il gateway non detiene identit√† personali.</li>
        </ul>
      </div>
    </div>
  </section>
</main>

<footer class="footer">
  <div class="wrap">
    <div class="row">
      <strong>üúè HERMETICUM</strong>
      <div>Docs ‚Äî Public Gateway</div>
      <div>UE-first ¬∑ audit-first ¬∑ hash-only ¬∑ fail-closed ¬∑ no data custody</div>
    </div>
  </div>
</footer>
</body>
</html>
