<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>JOKER Node — IPR</title>

<link rel="stylesheet" href="../assets/css/main.css"/>
<link rel="stylesheet" href="../assets/css/brand.css"/>

<script src="../assets/js/joker-node.js" defer></script>
</head>

<body>

<header class="topbar">
  <div class="wrap">
    <div class="row">

      <div class="brandmark">
        <img src="../assets/img/hermeticum-mark-neon.svg" alt="IPR"/>
        <span>IPR</span>
      </div>

      <nav class="nav">
        <a href="../">Gateway</a>
        <a href="../activate/">Activate</a>
        <a href="../verify/">Verify</a>
        <a href="../infrastructure/">Infrastructure</a>
        <a href="../docs/">Docs</a>
        <a href="../status/">Status</a>
      </nav>

      <div class="spacer"></div>
      <div class="status active">EU Infrastructure: ACTIVE</div>

    </div>
  </div>
</header>

<main class="wrap">

<section class="hero">
  <h1>JOKER Node Console</h1>
  <p class="lead">
    Evolutive node layer bound to a verified IPR receipt.
    This console creates an append-only local timeline (hash-chained).
    No server. No custody. Hash-only evidence.
  </p>

  <div class="cta">
    <a class="btn" href="../verify/">Verify</a>
    <button class="btn primary" type="button" onclick="JOKER_addEvent()">Add Event</button>
    <button class="btn" type="button" onclick="JOKER_downloadTimeline()">Download Timeline</button>
  </div>

  <div class="pillrow">
    <span class="pill">Local-only</span>
    <span class="pill">Append-only</span>
    <span class="pill">Hash-chained</span>
    <span class="pill">Audit-ready</span>
  </div>
</section>

<section class="section">
  <div class="panel">
    <h2>Node Status</h2>
    <div id="joker_status" class="result">Loading…</div>
  </div>
</section>

<section class="section">
  <div class="panel">
    <h2>Receipt Binding (hash-only)</h2>
    <div style="color:var(--muted);line-height:1.7">
      <div><strong>nickname:</strong> <span id="joker_nickname">—</span></div>
      <div><strong>payload_sha256:</strong> <span id="joker_payload">—</span></div>
      <div><strong>receipt_sha256:</strong> <span id="joker_receipt">—</span></div>
      <div><strong>sealed by:</strong> HERMETICUM B.C.E. S.r.l.</div>
    </div>
  </div>
</section>

<section class="section">
  <div class="panel">
    <h2>New timeline event</h2>

    <label for="joker_type">Event type</label>
    <input id="joker_type" type="text" placeholder="e.g. CHECKPOINT | EVOLVE | ACCESS | AUDIT | NOTE"/>

    <label for="joker_note">Event note (public-safe)</label>
    <input id="joker_note" type="text" placeholder="Short note (avoid personal data)"/>

    <div class="cta">
      <button class="btn primary" type="button" onclick="JOKER_addEvent()">Append event</button>
      <button class="btn" type="button" onclick="JOKER_clearDraft()">Clear</button>
    </div>

    <div style="color:var(--muted);line-height:1.7;margin-top:10px">
      Events are stored locally and chained by hashes (previous_hash → event_hash).
      Exporting produces a single JSON evidence pack.
    </div>
  </div>
</section>

<section class="section">
  <div class="panel">
    <h2>Timeline (append-only)</h2>
    <div id="joker_timeline" class="result">No events yet.</div>
  </div>
</section>

</main>

<footer class="footer">
  <div class="wrap">
    <div class="row">
      <strong>IPR Infrastructure</strong>
      <div>JOKER Node — temporal evolution layer (local hash-chain)</div>
      <div>EU-first · audit-first · fail-closed · hash-only · no data custody</div>
    </div>
  </div>
</footer>

</body>
</html>
